<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="./styles.css" />
    <link rel="stylesheet" href="./tickets.css" />
    <link rel="stylesheet" href="./index.css" />
    <link rel="stylesheet" href="./manageTickets.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <title>ZKTickets</title>
</head>

<body>
    <canvas id="canvas">Your browser doesn't support "canvas", sorry come again.</canvas>

    <div class="hide" id="manageUiContainer">
        <div class="centered-row">
            <h2>MANAGE TICKETS</h2>
        </div>


        <br />
        <div class="row-SpaceEvenlyAndWrap">
            <div id="transferRequestsOutterContainer">

                <div class="dataContainer">
                    <h5 class="margin30">
                        YOU CAN CREATE TRANSFER REQUESTS TO SEND YOUR TICKETS TO OTHERS , REFUND THE TICKET OR SELL IT
                        TO
                        SOMEBODY ON THE OPEN MARKET.
                    </h5>
                    <table>
                        <thead>
                            <tr>
                                <th>
                                </th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td> <button id="goToViewRequests" class="button-57"><span>View
                                            Requests</span><span>Navigate to see tranfers</span></button></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td><span class="initialFont">Ticket Code:</span></td>
                                <td>
                                    <input autocomplete="off" id="ticketCodeInput" type="text" />
                                </td>
                            </tr>
                            <tr class="marginTop30">
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td><span class="initialFont">Open the scanner:</span></td>
                                <td> <button id="scanTicketButton" class="button-50">SCAN</button>
                                </td>
                            </tr>
                            <tr class="marginTop30">
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="initialFont">Type:</span>
                                </td>
                                <td>
                                    <select class="arginput" id="selectTransferType"></select>
                                </td>
                            </tr>
                            <tr class="marginTop30">
                                <td></td>
                                <td></td>
                            </tr>
                            <tr id="priceRow">
                                <td>
                                    <span class="initialFont">Price:</span>
                                </td>
                                <td>
                                    <input disabled class="arginput" id="resalepriceInput" type="number"
                                        placeholder="0" />
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span id="priceInfoContainer" class="initialFont">Transfers are free</span></td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="initialFont">Transfer To:</span>
                                </td>
                                <td>
                                    <input class="arginput" id="transferTo" type="text"
                                        placeholder="Address of recipient" />
                                </td>
                            </tr>
                            <tr>
                                <td>

                                </td>
                                <td>
                                    <button id="createRequests" class="button-50">CREATE REQUEST</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="showTransferRequestsOutterContainer" class="hide">
                <div class="dataContainer">

                    <h5 class="margin30">YOU CAN SEE ALL THE TRANSFER REQUESTS HERE THAT ARE RELATED TO YOU!</h5>
                    <div class="centered-row">
                        <button id="goToCreateRequests" class="button-57"><span>Create
                                Transfer</span><span>Navigate to create request</span></button>
                        <button id="goToStaking" class="button-57"><span>Staking</span><span>Navigate to
                                staking page</span></button>
                    </div>
                    <br />
                    <div class="requestsShadow">
                        <div class="centered-row">
                            <h5 class="margin30">YOUR TRANSFER REQUESTS ARE VISIBLE BELOW. TO CANCEL A
                                REQUEST, YOU NEED TO USE
                                YOUR TICKET!</h5s>
                        </div>

                        <table class="width80Percent margin30">
                            <thead>
                                <th></th>
                                <th></th>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="initialFont">Ticket Code:</span></td>
                                    <td>
                                        <input class="arginput" autocomplete="off" id="cancelRequestTicketCodeInput"
                                            type="text" />
                                    </td>
                                </tr>
                                <tr class="marginTop30">
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td><span class="initialFont">Open the scanner:</span></td>
                                    <td> <button id="cancelRequestScanTicketButton" class="button-50">SCAN</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <table class="margin30 width80Percent">
                            <thead>
                                <tr>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="myRequestsTableBody">
                            </tbody>
                        </table>
                        <div class="centered-row">
                            <button id="fetchMyRequests" class="button-50">LOAD REQUESTS</button>
                        </div>
                        <br />
                    </div>



                    <div class="requestsShadow">
                        <div class="centered-row">
                            <h5 class="margin30">YOU CAN SEE ALL THE ACTIVE REQUESTS ONLY YOU CAN ACCEPT BELOW! CLICK ON
                                LOAD REQUESTS TO FETCH ALL ACTIVE REQUESTS</h5>
                        </div>
                        <table class="margin30 width80Percent">
                            <thead>
                                <tr>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="requestsToMeTableBody">
                            </tbody>
                        </table>
                        <div class="centered-row">
                            <small class="initialFont priceInfo">A 2% fee is added to resale orders</small>
                        </div>
                        <div class="centered-row">
                            <button id="fetchToMeRequests" class="button-50">LOAD REQUESTS</button>
                        </div>
                        <br />
                    </div>

                    <div class="requestsShadow">
                        <div class="centered-row">
                            <h5 class="margin30">OPEN RESALE REQUESTS. THESE REQUESTS CAN BE ACCEPTED BY ANYONE. IF THE
                                EVENT ALLOWS SPECULATION, THE PRICE MAY VARY!</h5>
                        </div>
                        <table class="margin30 width80Percent">
                            <thead>
                                <tr>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="openResaleRequestsTableBody">
                            </tbody>
                        </table>
                        <div class="centered-row">
                            <small class="initialFont priceInfo">A 2% fee is added to all orders</small>
                        </div>
                        <div class="centered-row">
                            <button id="fetchOpenResaleRequests" class="button-50">LOAD REQUESTS</button>
                        </div>
                        <br />
                    </div>
                </div>
            </div>

        </div>
        <div id="stakingDataOutterContainer" class="hide">
            <div class="dataContainer">
                <h5 class="margin30">YOU NEED TO STAKE TO CREATE CUSTOM PRICE RESALE REQUESTS. THIS PROTECTS THE
                    PROTOCOL AGAINST TICKET SCALPING. TO CREATE A CUSTOM PRICED RESALE YOU NEED TO STAKE 1000 TOKENS.
                    YOUR TOKEN RESALE REQUESTS ARE COUNTED PER EVENT!</h5>
                <table>
                    <thead>
                        <th>
                        </th>
                        <th>
                        </th>
                    </thead>
                    <tbody>
                        <tr>
                            <td> <span class="initialFont"><strong>Stake TPR</strong></span>
                            </td>
                            <td> <span class="initialFont"><strong>To resell tickets at custom
                                        price</strong></span>
                            </td>
                        </tr>
                        <tr class="marginTop30">
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><span class="initialFont">Token Balance: </span></td>
                            <td><span class="initialFont" id="tokenBalance"></span></td>
                        </tr>
                        <tr class="marginTop30">
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                                <span id="stakeBalance" class="initialFont"></span>
                            </td>
                            <td>
                                <span class="initialFont"><strong>Set How much to stake or
                                        unstake</strong></span>
                            </td>
                        </tr>
                        <tr class="marginTop30">
                            <td></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td><span class="initialFont">Amount:</span>
                                <span data-amount="0" class="initialFont" id="amountToStake">0 TPR</span>
                            </td>
                            <td>
                                <div class="leftAlignedRow">
                                    <button id="increaseStakeAmount" class="button-11">
                                        <span class="material-symbols-outlined">
                                            arrow_upward
                                        </span>
                                    </button>
                                    <button id="decreaseStakeAmount" class="button-11 marginLeft30">
                                        <span class="material-symbols-outlined">
                                            arrow_downward
                                        </span>
                                    </button>
                                </div>

                            </td>
                        </tr>

                        <tr class="marginTop30">
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td><button id="stakeButton" class="button-50">STAKE</button></td>
                            <td><button disabled id="unstakeButton" class="button-50">UNSTAKE</button></td>
                        </tr>
                        <tr id="blocksLeftTr" class="hide">
                            <td>
                                <span class="initialFont">Till unstake:</span>
                            </td>
                            <td>
                                <div class="initialFont" id="blocksLeft"></div>
                            </td>
                        </tr>
                        <tr class="marginTop30">
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>
                                <span class="initialFont">Custom Resales Created:</span>
                            </td>
                            <td>
                                <strong>
                                    <div class="initialFont" id="customPriceResalesCreated"></div>
                                </strong>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span class="initialFont">Custom Resales Left: </span>
                            </td>
                            <td>
                                <strong>
                                    <div class="initialFont" id="customPriceResalesLeft"></div>
                                </strong>
                            </td>
                        </tr>
                        <tr>
                            <td> <button id="goToShowRequestFromStaking" class="button-57"><span class="text">Show
                                        Requests</span><span>Navigate to transfer requests</span></button>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    </div>

    <div id="overlay">
        <div id="overlay-layout">
            <div class="centered-row video-container" id="readerContainer">
                <video id="reader" width="400px" height="400"></video>
            </div>
            <div class="centered-row" id="stopScanningButtonRow">
                <button id="stopScanningButton" class="button-50 width-300" type="button">
                    STOP SCANNING
                </button>
            </div>
        </div>
    </div>
    <div class="centered-row">
        <div id="snackbar"></div>
    </div>
</body>
<script type="module" src="./manageTickets.ts"></script>
<script src="./fx//matrix.js"></script>

</html>